HOSTS:
  centos-7-x64:
    docker_cmd:
      - "/sbin/init"
    image: centos:7
    platform: el-7-x86_64
    packaging_platform: el-7-x86_64
    docker_image_commands:
      - cp /bin/true /sbin/agetty
      - |
        echo -e "\
        [AdoptOpenJDK]\n\
        name=AdoptOpenJDK\n\
        baseurl=http://adoptopenjdk.jfrog.io/adoptopenjdk/rpm/centos/7/x86_64\n\
        enabled=1\n\
        gpgcheck=1\n\
        gpgkey=https://adoptopenjdk.jfrog.io/adoptopenjdk/api/gpg/key/public\n\
        " > /etc/yum.repos.d/adoptopenjdk.repo
      - yum install -y crontabs initscripts iproute openssl sysvinit-tools tar wget
        which ss adoptopenjdk-8-hotspot
    hypervisor: docker
    roles:
      - agent
    docker_preserve_image: true
CONFIG:
  type: foss
  :trace_limit: 100  # Get more than 10 lines of trace when something fails.
